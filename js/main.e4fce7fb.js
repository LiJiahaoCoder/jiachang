(self.webpackChunkjiachang=self.webpackChunkjiachang||[]).push([["main"],{"6JJV":(e,r,n)=>{"use strict";var o,a=n("i8i4"),i=n("q1tI"),c=n("nKUr");const t=function(){return(0,c.jsx)("div",{className:"py-5 d-flex justify-content-center",children:(0,c.jsx)("div",{className:"spinner-border",role:"status",children:(0,c.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})};(n=o=o||{})[n.VertexShader=0]="VertexShader",n[n.FragmentShader=1]="FragmentShader";function u(e,r){if(null===(r=e.createShader(s[r])))throw new Error("Failed to create shader");return r}function l(e,r){var n=r.vertexShaderSource,a=r.fragmentShaderSource,t=u(e,o.VertexShader),r=u(e,o.FragmentShader);return e.shaderSource(t,n),e.shaderSource(r,a),e.compileShader(t),e.compileShader(r),a=function(e){e=e.createProgram();if(null===e)throw new Error("Failed to create program");return e}(e),e.attachShader(a,t),e.attachShader(a,r),e.linkProgram(a),a}var s=((n={})[o.VertexShader]=WebGL2RenderingContext.VERTEX_SHADER,n[o.FragmentShader]=WebGL2RenderingContext.FRAGMENT_SHADER,n);const d=function(){var r=(0,i.useRef)(null),e=(0,i.useState)(null),a=e[0],n=e[1],t=(0,i.useState)(null)[1];(0,i.useEffect)(function(){r.current.width=window.innerWidth,r.current.height=window.innerHeight;var e=r.current.getContext("webgl2",{antialias:!0,preserveDrawingBuffer:!0});n(e)},[]),(0,i.useEffect)(function(){var e,r,n;null!==a&&(e=l(a,{vertexShaderSource:"#version 300 es\n\nuniform int u_Mode;\nuniform vec2 u_Res;\nin vec4 a_Data;\nout vec4 v_Color;\n\nvec3 h2rgb(float h) {\n  return clamp(abs(mod(h * 6.0 + vec3(0, 4, 2), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n}\n\nvoid clear() {\n  gl_Position = vec4(a_Data.xy, 0, 1);\n  v_Color = vec4(0, 0, 0, a_Data.w);\n}\n\nvoid draw() {\n  gl_Position = vec4(vec2(1, -1) * ((a_Data.xy / u_Res) * 2.0 - 1.0), 0, 1);\n  v_Color = vec4(h2rgb(a_Data.z), a_Data.w);\n}\n\nvoid main() {\n  if(u_Mode == 0)\n    draw();\n  else\n    clear();\n}\n",fragmentShaderSource:"#version 300 es\n\nprecision mediump float;\n\nin vec4 v_Color;\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_Color;\n}\n"}),a.useProgram(e),r=a.getAttribLocation(e,"a_Data"),n=a.createBuffer(),a.enableVertexAttribArray(r),a.bindBuffer(a.ARRAY_BUFFER,n),a.vertexAttribPointer(r,4,a.FLOAT,!1,0,0),t(e))},[a]);var o=(0,i.useCallback)(function(){null!==a&&(a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT))},[a]);return(0,i.useCallback)(function(){requestAnimationFrame(o)},[o])(),(0,c.jsx)("canvas",{ref:r,id:"canvas"})};(0,a.render)((0,c.jsx)(function(){return(0,c.jsx)(i.Suspense,{fallback:(0,c.jsx)(t,{}),children:(0,c.jsx)("main",{className:"fluid-container bg-body",children:(0,c.jsx)(d,{})})})},{}),document.querySelector("#app"))}},e=>{"use strict";e.O(0,["vendors"],()=>e(e.s="6JJV"));e.O()}]);